<!-- begin SEO -->
{% assign canonical_url = page.url | prepend: site.url | remove: 'index.html' %}
{% assign seo_title = page.title | default: site.title %}
{% assign seo_description = page.description | default: page.excerpt | default: site.description %}
{% assign seo_keywords = page.keywords | default: site.keywords %}
{% assign seo_author = page.author | default: site.author[0] %}

<!-- Title Tag -->
<title>{{ seo_title }}</title>

<!-- Meta Description -->
<meta name="description" content="{{ seo_description }}">

<!-- Meta Keywords -->
<meta name="keywords" content="{{ seo_keywords }}">

<!-- Meta Author -->
<meta name="author" content="{{ seo_author }}">

<!-- Open Graph Tags -->
<meta property="og:title" content="{{ seo_title }}">
<meta property="og:description" content="{{ seo_description }}">
<meta property="og:type" content="{% if page.date %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ canonical_url }}">
{% if page.header.image %}
  <meta property="og:image" content="{{ page.header.image | prepend: site.url | prepend: site.baseurl }}">
{% endif %}

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{{ seo_title }}">
<meta name="twitter:description" content="{{ seo_description }}">
<meta name="twitter:url" content="{{ canonical_url }}">
{% if page.header.image %}
  <meta name="twitter:image" content="{{ page.header.image | prepend: site.url | prepend: site.baseurl }}">
{% endif %}

<!-- Canonical URL -->
<link rel="canonical" href="{{ canonical_url }}">

<!-- Pagination -->
{% if paginator %}
  {% if paginator.next_page %}
    <link rel="next" href="{{ paginator.next_page_path | prepend: site.url | prepend: site.baseurl }}">
  {% endif %}
  {% if paginator.previous_page %}
    <link rel="prev" href="{{ paginator.previous_page_path | prepend: site.url | prepend: site.baseurl }}">
  {% endif %}
{% endif %}

<!-- Schema.org Markup -->
{% if page.date %}
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "NewsArticle",
      "mainEntityOfPage": "{{ canonical_url }}",
      "headline": "{{ seo_title }}",
      "datePublished": "{{ page.date | date_to_xmlschema }}",
      "dateModified": "{{ page.date | date_to_xmlschema }}",
      "author": {
        "@type": "Person",
        "name": "{{ seo_author }}"
      },
      "description": "{{ seo_description }}"
    }
  </script>
{% endif %}

<!-- Google Site Verification -->
{% if site.google_site_verification %}
  <meta name="google-site-verification" content="{{ site.google_site_verification }}" />
{% endif %}

<!-- Bing Site Verification -->
{% if site.bing_site_verification %}
  <meta name="msvalidate.01" content="{{ site.bing_site_verification }}">
{% endif %}

<!-- Alexa Site Verification -->
{% if site.alexa_site_verification %}
  <meta name="alexaVerifyID" content="{{ site.alexa_site_verification }}">
{% endif %}

<!-- Yandex Site Verification -->
{% if site.yandex_site_verification %}
  <meta name="yandex-verification" content="{{ site.yandex_site_verification }}">
{% endif %}

<!-- Google Analytics -->
{% if site.google_analytics %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics }}');
  </script>
{% endif %}

<!-- Facebook Pixel -->
{% if site.facebook_pixel %}
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '{{ site.facebook_pixel }}');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id={{ site.facebook_pixel }}&ev=PageView&noscript=1"/></noscript>
{% endif %}

<!-- Pinterest Tag -->
{% if site.pinterest_tag %}
  <script>
    !function(e){if(!window.pintrk){window.pintrk = function () {
    window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
    n=window.pintrk;n.queue=[],n.version="3.0";var
    t=document.createElement("script");t.async=!0,t.src=e;var
    r=document.getElementsByTagName("script")[0];
    r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
    pintrk('load', '{{ site.pinterest_tag }}');
    pintrk('page');
  </script>
  <noscript><img height="1" width="1" style="display:none;" alt="" src="https://ct.pinterest.com/v3/?tid={{ site.pinterest_tag }}&noscript=1" /></noscript>
{% endif %}

<!-- LinkedIn Insight Tag -->
{% if site.linkedin_insight %}
  <script type="text/javascript">
    _linkedin_partner_id = "{{ site.linkedin_insight }}";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);
  </script>
  <script type="text/javascript">
    (function(){var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})();
  </script>
  <noscript>
    <img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid={{ site.linkedin_insight }}&fmt=gif" />
  </noscript>
{% endif %}
<!-- end SEO -->
